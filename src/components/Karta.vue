<template>
  <div id='karta'>
    <!-- <h1> Map of Nations </h1> -->
    <svg width="600" height="498" v-bind:viewBox="viewBox.join(' ')" v-on:touchstart.prevent="mapMoveStart" v-on:touchmove.prevent="mapMove" v-on:touchend.prevent="mapMoveEnd">
      <defs>
        <filter id="shadow" x="0" y="0" width="200%" height="200%">
          <feGaussianBlur in="SourceAlpha" stdDeviation="3"/> 
          <feOffset dx="1" dy="6"/>
          <feComponentTransfer>
            <feFuncA type="linear" slope="0.2"/>
          </feComponentTransfer>
          <feMerge> 
            <feMergeNode/>
            <feMergeNode in="SourceGraphic"/> 
          </feMerge>
        </filter>
        <g id="svg-map">
          <g class="boardpiece" id="13f4-e834-5ddd">
          <g id="fields_13f4-e834-5ddd">
          <g id="9ee9-382f" class="field säd" type="säd">
          <polygon points="450,185.88457268119896 470,185.88457268119896 460,168.5640646055102"></polygon>
          <polygon points="450,185.88457268119896 470,185.88457268119896 460,203.20508075688775"></polygon>
          <polygon points="460,168.5640646055102 480,168.5640646055102 470,185.88457268119896"></polygon>
          <polygon points="460,168.5640646055102 480,168.5640646055102 470,151.24355652982143"></polygon>
          <polygon points="470,151.24355652982143 490,151.24355652982143 480,168.5640646055102"></polygon>
          <polygon points="460,203.20508075688775 480,203.20508075688775 470,185.88457268119896"></polygon>
          <polygon points="460,203.20508075688775 480,203.20508075688775 470,220.52558883257652"></polygon>
          <polygon points="470,220.52558883257652 490,220.52558883257652 480,203.20508075688775"></polygon>
          <polygon points="490,220.52558883257652 510,220.52558883257652 500,203.20508075688775"></polygon>
          <polygon points="500,203.20508075688775 520,203.20508075688775 510,220.52558883257652"></polygon>
          <polygon points="490,185.88457268119896 510,185.88457268119896 500,203.20508075688775"></polygon>
          <polygon points="490,185.88457268119896 510,185.88457268119896 500,168.5640646055102"></polygon>
          <polygon points="500,168.5640646055102 520,168.5640646055102 510,151.24355652982143"></polygon>
          <polygon points="500,168.5640646055102 520,168.5640646055102 510,185.88457268119896"></polygon>
          <polygon points="510,185.88457268119896 530,185.88457268119896 520,168.5640646055102"></polygon>
          <polygon points="510,185.88457268119896 530,185.88457268119896 520,203.20508075688775"></polygon>
          <polygon points="500,203.20508075688775 520,203.20508075688775 510,185.88457268119896"></polygon>
          <polygon points="480,203.20508075688775 500,203.20508075688775 490,220.52558883257652"></polygon>
          <polygon points="480,203.20508075688775 500,203.20508075688775 490,185.88457268119896"></polygon>
          <polygon points="470,185.88457268119896 490,185.88457268119896 480,203.20508075688775"></polygon>
          <polygon points="470,185.88457268119896 490,185.88457268119896 480,168.5640646055102"></polygon>
          <polygon points="480,168.5640646055102 500,168.5640646055102 490,185.88457268119896"></polygon>
          <polygon points="480,168.5640646055102 500,168.5640646055102 490,151.24355652982143"></polygon>
          <polygon points="490,151.24355652982143 510,151.24355652982143 500,168.5640646055102"></polygon>
          <polygon points="490,151.24355652982143 510,151.24355652982143 500,133.92304845413264"></polygon>
          <polygon points="440,99.2820323027551 460,99.2820323027551 450,116.60254037844388"></polygon>
          <polygon points="450,116.60254037844388 470,116.60254037844388 460,99.2820323027551"></polygon>
          <polygon points="460,99.2820323027551 480,99.2820323027551 470,116.60254037844388"></polygon>
          <polygon points="470,116.60254037844388 490,116.60254037844388 480,99.2820323027551"></polygon>
          <polygon points="470,116.60254037844388 490,116.60254037844388 480,133.92304845413264"></polygon>
          <polygon points="480,133.92304845413264 500,133.92304845413264 490,116.60254037844388"></polygon>
          <polygon points="460,133.92304845413264 480,133.92304845413264 470,116.60254037844388"></polygon>
          <polygon points="450,116.60254037844388 470,116.60254037844388 460,133.92304845413264"></polygon>
          <polygon points="440,133.92304845413264 460,133.92304845413264 450,116.60254037844388"></polygon>
          <polygon points="460,133.92304845413264 480,133.92304845413264 470,151.24355652982143"></polygon>
          <polygon points="470,151.24355652982143 490,151.24355652982143 480,133.92304845413264"></polygon>
          <polygon points="480,133.92304845413264 500,133.92304845413264 490,151.24355652982143"></polygon>
          <polygon points="450,151.24355652982143 470,151.24355652982143 460,133.92304845413264"></polygon>
          <polygon points="440,133.92304845413264 460,133.92304845413264 450,151.24355652982143"></polygon>
          <polygon points="430,151.24355652982143 450,151.24355652982143 440,133.92304845413264"></polygon>
          <polygon points="420,133.92304845413264 440,133.92304845413264 430,151.24355652982143"></polygon>
          <polygon points="420,133.92304845413264 440,133.92304845413264 430,116.60254037844388"></polygon>
          <polygon points="430,116.60254037844388 450,116.60254037844388 440,133.92304845413264"></polygon>
          <polygon points="430,116.60254037844388 450,116.60254037844388 440,99.2820323027551"></polygon>
          <g class="number">
          <circle cx="480" cy="177.2243186433546" r="8.1"></circle>
          <text id="nr-9ee9-382f" transform="matrix(1 0 0 1 480 182.2243186433546)">3</text>
          </g>
          </g>
          <g id="59cc-3044" class="field trä" type="trä">
          <polygon points="340,203.20508075688775 360,203.20508075688775 350,220.52558883257652"></polygon>
          <polygon points="350,151.24355652982143 370,151.24355652982143 360,133.92304845413264"></polygon>
          <polygon points="360,133.92304845413264 380,133.92304845413264 370,151.24355652982143"></polygon>
          <polygon points="360,133.92304845413264 380,133.92304845413264 370,116.60254037844388"></polygon>
          <polygon points="370,116.60254037844388 390,116.60254037844388 380,133.92304845413264"></polygon>
          <polygon points="370,116.60254037844388 390,116.60254037844388 380,99.2820323027551"></polygon>
          <polygon points="380,99.2820323027551 400,99.2820323027551 390,116.60254037844388"></polygon>
          <polygon points="390,116.60254037844388 410,116.60254037844388 400,99.2820323027551"></polygon>
          <polygon points="400,99.2820323027551 420,99.2820323027551 410,116.60254037844388"></polygon>
          <polygon points="380,133.92304845413264 400,133.92304845413264 390,116.60254037844388"></polygon>
          <polygon points="380,133.92304845413264 400,133.92304845413264 390,151.24355652982143"></polygon>
          <polygon points="370,151.24355652982143 390,151.24355652982143 380,133.92304845413264"></polygon>
          <polygon points="370,151.24355652982143 390,151.24355652982143 380,168.5640646055102"></polygon>
          <polygon points="350,185.88457268119896 370,185.88457268119896 360,168.5640646055102"></polygon>
          <polygon points="360,168.5640646055102 380,168.5640646055102 370,185.88457268119896"></polygon>
          <polygon points="360,168.5640646055102 380,168.5640646055102 370,151.24355652982143"></polygon>
          <polygon points="350,151.24355652982143 370,151.24355652982143 360,168.5640646055102"></polygon>
          <polygon points="340,168.5640646055102 360,168.5640646055102 350,151.24355652982143"></polygon>
          <polygon points="340,168.5640646055102 360,168.5640646055102 350,185.88457268119896"></polygon>
          <polygon points="330,185.88457268119896 350,185.88457268119896 340,168.5640646055102"></polygon>
          <polygon points="330,185.88457268119896 350,185.88457268119896 340,203.20508075688775"></polygon>
          <polygon points="340,203.20508075688775 360,203.20508075688775 350,185.88457268119896"></polygon>
          <polygon points="350,185.88457268119896 370,185.88457268119896 360,203.20508075688775"></polygon>
          <polygon points="360,203.20508075688775 380,203.20508075688775 370,185.88457268119896"></polygon>
          <polygon points="370,185.88457268119896 390,185.88457268119896 380,203.20508075688775"></polygon>
          <polygon points="370,185.88457268119896 390,185.88457268119896 380,168.5640646055102"></polygon>
          <polygon points="380,168.5640646055102 400,168.5640646055102 390,185.88457268119896"></polygon>
          <polygon points="380,168.5640646055102 400,168.5640646055102 390,151.24355652982143"></polygon>
          <polygon points="390,151.24355652982143 410,151.24355652982143 400,168.5640646055102"></polygon>
          <polygon points="410,116.60254037844388 430,116.60254037844388 420,133.92304845413264"></polygon>
          <polygon points="390,116.60254037844388 410,116.60254037844388 400,133.92304845413264"></polygon>
          <polygon points="390,151.24355652982143 410,151.24355652982143 400,133.92304845413264"></polygon>
          <polygon points="400,133.92304845413264 420,133.92304845413264 410,151.24355652982143"></polygon>
          <polygon points="400,133.92304845413264 420,133.92304845413264 410,116.60254037844388"></polygon>
          <polygon points="410,116.60254037844388 430,116.60254037844388 420,99.2820323027551"></polygon>
          <polygon points="420,99.2820323027551 440,99.2820323027551 430,116.60254037844388"></polygon>
          <g class="number">
          <circle cx="380" cy="159.9038105676658" r="8.1"></circle>
          <text id="nr-59cc-3044" transform="matrix(1 0 0 1 380 164.9038105676658)">3</text>
          </g>
          </g>
          <g id="954a-8e37" class="field olja" type="olja">
          <polygon points="430,255.16660498395407 450,255.16660498395407 440,237.84609690826528"></polygon>
          <polygon points="430,255.16660498395407 450,255.16660498395407 440,272.48711305964287"></polygon>
          <polygon points="440,272.48711305964287 460,272.48711305964287 450,255.16660498395407"></polygon>
          <polygon points="460,237.84609690826528 480,237.84609690826528 470,255.16660498395407"></polygon>
          <polygon points="480,237.84609690826528 500,237.84609690826528 490,255.16660498395407"></polygon>
          <polygon points="470,255.16660498395407 490,255.16660498395407 480,237.84609690826528"></polygon>
          <polygon points="470,255.16660498395407 490,255.16660498395407 480,272.48711305964287"></polygon>
          <polygon points="460,272.48711305964287 480,272.48711305964287 470,255.16660498395407"></polygon>
          <polygon points="450,255.16660498395407 470,255.16660498395407 460,272.48711305964287"></polygon>
          <polygon points="450,255.16660498395407 470,255.16660498395407 460,237.84609690826528"></polygon>
          <polygon points="440,237.84609690826528 460,237.84609690826528 450,255.16660498395407"></polygon>
          <polygon points="440,237.84609690826528 460,237.84609690826528 450,220.52558883257652"></polygon>
          <polygon points="450,220.52558883257652 470,220.52558883257652 460,203.20508075688775"></polygon>
          <polygon points="450,220.52558883257652 470,220.52558883257652 460,237.84609690826528"></polygon>
          <polygon points="460,237.84609690826528 480,237.84609690826528 470,220.52558883257652"></polygon>
          <polygon points="470,220.52558883257652 490,220.52558883257652 480,237.84609690826528"></polygon>
          <polygon points="480,237.84609690826528 500,237.84609690826528 490,220.52558883257652"></polygon>
          <polygon points="490,220.52558883257652 510,220.52558883257652 500,237.84609690826528"></polygon>
          <g class="number">
          <circle cx="470" cy="229.1858428704209" r="8.1"></circle>
          <text id="nr-954a-8e37" transform="matrix(1 0 0 1 470 234.1858428704209)">3</text>
          </g>
          </g>
          <g id="e410-7a85" class="field djur" type="djur">
          <polygon points="400,168.5640646055102 420,168.5640646055102 410,151.24355652982143"></polygon>
          <polygon points="380,203.20508075688775 400,203.20508075688775 390,220.52558883257652"></polygon>
          <polygon points="380,203.20508075688775 400,203.20508075688775 390,185.88457268119896"></polygon>
          <polygon points="390,185.88457268119896 410,185.88457268119896 400,203.20508075688775"></polygon>
          <polygon points="390,185.88457268119896 410,185.88457268119896 400,168.5640646055102"></polygon>
          <polygon points="400,168.5640646055102 420,168.5640646055102 410,185.88457268119896"></polygon>
          <polygon points="410,185.88457268119896 430,185.88457268119896 420,168.5640646055102"></polygon>
          <polygon points="400,203.20508075688775 420,203.20508075688775 410,185.88457268119896"></polygon>
          <polygon points="390,220.52558883257652 410,220.52558883257652 400,237.84609690826528"></polygon>
          <polygon points="390,220.52558883257652 410,220.52558883257652 400,203.20508075688775"></polygon>
          <polygon points="400,203.20508075688775 420,203.20508075688775 410,220.52558883257652"></polygon>
          <polygon points="410,185.88457268119896 430,185.88457268119896 420,203.20508075688775"></polygon>
          <polygon points="420,203.20508075688775 440,203.20508075688775 430,185.88457268119896"></polygon>
          <polygon points="420,203.20508075688775 440,203.20508075688775 430,220.52558883257652"></polygon>
          <polygon points="410,220.52558883257652 430,220.52558883257652 420,203.20508075688775"></polygon>
          <polygon points="410,220.52558883257652 430,220.52558883257652 420,237.84609690826528"></polygon>
          <polygon points="400,237.84609690826528 420,237.84609690826528 410,220.52558883257652"></polygon>
          <polygon points="400,237.84609690826528 420,237.84609690826528 410,255.16660498395407"></polygon>
          <polygon points="390,255.16660498395407 410,255.16660498395407 400,237.84609690826528"></polygon>
          <polygon points="380,237.84609690826528 400,237.84609690826528 390,255.16660498395407"></polygon>
          <polygon points="380,237.84609690826528 400,237.84609690826528 390,220.52558883257652"></polygon>
          <polygon points="370,220.52558883257652 390,220.52558883257652 380,237.84609690826528"></polygon>
          <polygon points="370,220.52558883257652 390,220.52558883257652 380,203.20508075688775"></polygon>
          <polygon points="360,203.20508075688775 380,203.20508075688775 370,220.52558883257652"></polygon>
          <polygon points="350,220.52558883257652 370,220.52558883257652 360,203.20508075688775"></polygon>
          <polygon points="350,220.52558883257652 370,220.52558883257652 360,237.84609690826528"></polygon>
          <polygon points="360,237.84609690826528 380,237.84609690826528 370,220.52558883257652"></polygon>
          <polygon points="360,237.84609690826528 380,237.84609690826528 370,255.16660498395407"></polygon>
          <polygon points="370,255.16660498395407 390,255.16660498395407 380,237.84609690826528"></polygon>
          <polygon points="370,255.16660498395407 390,255.16660498395407 380,272.48711305964287"></polygon>
          <polygon points="380,272.48711305964287 400,272.48711305964287 390,255.16660498395407"></polygon>
          <polygon points="390,255.16660498395407 410,255.16660498395407 400,272.48711305964287"></polygon>
          <polygon points="400,272.48711305964287 420,272.48711305964287 410,255.16660498395407"></polygon>
          <polygon points="420,272.48711305964287 440,272.48711305964287 430,255.16660498395407"></polygon>
          <polygon points="410,255.16660498395407 430,255.16660498395407 420,272.48711305964287"></polygon>
          <polygon points="410,255.16660498395407 430,255.16660498395407 420,237.84609690826528"></polygon>
          <polygon points="420,237.84609690826528 440,237.84609690826528 430,255.16660498395407"></polygon>
          <polygon points="420,237.84609690826528 440,237.84609690826528 430,220.52558883257652"></polygon>
          <polygon points="430,220.52558883257652 450,220.52558883257652 440,237.84609690826528"></polygon>
          <polygon points="430,220.52558883257652 450,220.52558883257652 440,203.20508075688775"></polygon>
          <polygon points="440,203.20508075688775 460,203.20508075688775 450,220.52558883257652"></polygon>
          <polygon points="440,203.20508075688775 460,203.20508075688775 450,185.88457268119896"></polygon>
          <polygon points="430,185.88457268119896 450,185.88457268119896 440,203.20508075688775"></polygon>
          <polygon points="440,168.5640646055102 460,168.5640646055102 450,185.88457268119896"></polygon>
          <polygon points="430,185.88457268119896 450,185.88457268119896 440,168.5640646055102"></polygon>
          <polygon points="420,168.5640646055102 440,168.5640646055102 430,185.88457268119896"></polygon>
          <polygon points="410,151.24355652982143 430,151.24355652982143 420,133.92304845413264"></polygon>
          <polygon points="410,151.24355652982143 430,151.24355652982143 420,168.5640646055102"></polygon>
          <polygon points="420,168.5640646055102 440,168.5640646055102 430,151.24355652982143"></polygon>
          <polygon points="430,151.24355652982143 450,151.24355652982143 440,168.5640646055102"></polygon>
          <polygon points="440,168.5640646055102 460,168.5640646055102 450,151.24355652982143"></polygon>
          <polygon points="450,151.24355652982143 470,151.24355652982143 460,168.5640646055102"></polygon>
          <g class="number">
          <circle cx="410" cy="211.86533479473212" r="8.1"></circle>
          <text id="nr-e410-7a85" transform="matrix(1 0 0 1 410 216.86533479473212)">3</text>
          </g>
          </g>
          </g>
          <g id="roads_13f4-e834-5ddd">
          <g class="road">
          <circle cx="380" cy="99.2820323027551" r="2"></circle> <circle cx="480" cy="99.2820323027551" r="2"></circle>
          <line x1="380" y1="99.2820323027551" x2="480" y2="99.2820323027551"></line>
          </g>
          <g class="road">
          <circle cx="480" cy="99.2820323027551" r="2"></circle> <circle cx="530" cy="185.88457268119896" r="2"></circle>
          <line x1="480" y1="99.2820323027551" x2="530" y2="185.88457268119896"></line>
          </g>
          <g class="road">
          <circle cx="530" cy="185.88457268119896" r="2"></circle> <circle cx="480" cy="272.48711305964287" r="2"></circle>
          <line x1="530" y1="185.88457268119896" x2="480" y2="272.48711305964287"></line>
          </g>
          <g class="road">
          <circle cx="480" cy="272.48711305964287" r="2"></circle> <circle cx="380" cy="272.48711305964287" r="2"></circle>
          <line x1="480" y1="272.48711305964287" x2="380" y2="272.48711305964287"></line>
          </g>
          <g class="road">
          <circle cx="380" cy="272.48711305964287" r="2"></circle> <circle cx="330" cy="185.88457268119896" r="2"></circle>
          <line x1="380" y1="272.48711305964287" x2="330" y2="185.88457268119896"></line>
          </g>
          <g class="road">
          <circle cx="330" cy="185.88457268119896" r="2"></circle> <circle cx="380" cy="99.2820323027551" r="2"></circle>
          <line x1="330" y1="185.88457268119896" x2="380" y2="99.2820323027551"></line>
          </g>
          </g>
          <g id="buildings_13f4-e834-5ddd">
          <g class="building" id="f477-aa61">
          <title>empty säd empty empty</title>
          <polygon points="440,99.2820323027551 460,99.2820323027551 450,81.96152422706632"></polygon>
          <polygon points="440,99.2820323027551 460,99.2820323027551 450,116.60254037844388"></polygon>
          <polygon points="450,116.60254037844388 470,116.60254037844388 460,99.2820323027551"></polygon>
          <polygon points="450,81.96152422706632 470,81.96152422706632 460,99.2820323027551"></polygon>
          <polygon points="460,99.2820323027551 480,99.2820323027551 470,81.96152422706632"></polygon>
          <polygon points="460,99.2820323027551 480,99.2820323027551 470,116.60254037844388"></polygon>
          </g>
          <g class="building" id="bf44-6228">
          <title>säd empty empty empty</title>
          <polygon points="470,116.60254037844388 490,116.60254037844388 480,99.2820323027551"></polygon>
          <polygon points="470,116.60254037844388 490,116.60254037844388 480,133.92304845413264"></polygon>
          <polygon points="480,133.92304845413264 500,133.92304845413264 490,116.60254037844388"></polygon>
          <polygon points="480,99.2820323027551 500,99.2820323027551 490,116.60254037844388"></polygon>
          <polygon points="490,116.60254037844388 510,116.60254037844388 500,99.2820323027551"></polygon>
          <polygon points="490,116.60254037844388 510,116.60254037844388 500,133.92304845413264"></polygon>
          </g>
          <g class="building" id="7d30-14f4">
          <title>säd empty empty empty</title>
          <polygon points="500,168.5640646055102 520,168.5640646055102 510,151.24355652982143"></polygon>
          <polygon points="500,168.5640646055102 520,168.5640646055102 510,185.88457268119896"></polygon>
          <polygon points="510,185.88457268119896 530,185.88457268119896 520,168.5640646055102"></polygon>
          <polygon points="510,151.24355652982143 530,151.24355652982143 520,168.5640646055102"></polygon>
          <polygon points="520,168.5640646055102 540,168.5640646055102 530,151.24355652982143"></polygon>
          <polygon points="520,168.5640646055102 540,168.5640646055102 530,185.88457268119896"></polygon>
          </g>
          <g class="building" id="20c2-66c4">
          <title>säd empty empty empty</title>
          <polygon points="500,203.20508075688775 520,203.20508075688775 510,185.88457268119896"></polygon>
          <polygon points="500,203.20508075688775 520,203.20508075688775 510,220.52558883257652"></polygon>
          <polygon points="510,220.52558883257652 530,220.52558883257652 520,203.20508075688775"></polygon>
          <polygon points="510,185.88457268119896 530,185.88457268119896 520,203.20508075688775"></polygon>
          <polygon points="520,203.20508075688775 540,203.20508075688775 530,185.88457268119896"></polygon>
          <polygon points="520,203.20508075688775 540,203.20508075688775 530,220.52558883257652"></polygon>
          </g>
          <g class="building" id="57b9-7bdb">
          <title>olja empty empty empty</title>
          <polygon points="470,255.16660498395407 490,255.16660498395407 480,237.84609690826528"></polygon>
          <polygon points="470,255.16660498395407 490,255.16660498395407 480,272.48711305964287"></polygon>
          <polygon points="480,272.48711305964287 500,272.48711305964287 490,255.16660498395407"></polygon>
          <polygon points="480,237.84609690826528 500,237.84609690826528 490,255.16660498395407"></polygon>
          <polygon points="490,255.16660498395407 510,255.16660498395407 500,237.84609690826528"></polygon>
          <polygon points="490,255.16660498395407 510,255.16660498395407 500,272.48711305964287"></polygon>
          </g>
          <g class="building" id="7b2f-df2c">
          <title>olja empty empty empty</title>
          <polygon points="440,272.48711305964287 460,272.48711305964287 450,255.16660498395407"></polygon>
          <polygon points="440,272.48711305964287 460,272.48711305964287 450,289.8076211353316"></polygon>
          <polygon points="450,289.8076211353316 470,289.8076211353316 460,272.48711305964287"></polygon>
          <polygon points="450,255.16660498395407 470,255.16660498395407 460,272.48711305964287"></polygon>
          <polygon points="460,272.48711305964287 480,272.48711305964287 470,255.16660498395407"></polygon>
          <polygon points="460,272.48711305964287 480,272.48711305964287 470,289.8076211353316"></polygon>
          </g>
          <g class="building" id="da50-7e42">
          <title>djur empty empty empty</title>
          <polygon points="380,272.48711305964287 400,272.48711305964287 390,255.16660498395407"></polygon>
          <polygon points="380,272.48711305964287 400,272.48711305964287 390,289.8076211353316"></polygon>
          <polygon points="390,289.8076211353316 410,289.8076211353316 400,272.48711305964287"></polygon>
          <polygon points="390,255.16660498395407 410,255.16660498395407 400,272.48711305964287"></polygon>
          <polygon points="400,272.48711305964287 420,272.48711305964287 410,255.16660498395407"></polygon>
          <polygon points="400,272.48711305964287 420,272.48711305964287 410,289.8076211353316"></polygon>
          </g>
          <g class="building" id="5442-ec81">
          <title>empty empty empty djur</title>
          <polygon points="350,255.16660498395407 370,255.16660498395407 360,237.84609690826528"></polygon>
          <polygon points="350,255.16660498395407 370,255.16660498395407 360,272.48711305964287"></polygon>
          <polygon points="360,272.48711305964287 380,272.48711305964287 370,255.16660498395407"></polygon>
          <polygon points="360,237.84609690826528 380,237.84609690826528 370,255.16660498395407"></polygon>
          <polygon points="370,255.16660498395407 390,255.16660498395407 380,237.84609690826528"></polygon>
          <polygon points="370,255.16660498395407 390,255.16660498395407 380,272.48711305964287"></polygon>
          </g>
          <g class="building" id="2ef9-c63e">
          <title>empty empty empty trä</title>
          <polygon points="320,203.20508075688775 340,203.20508075688775 330,185.88457268119896"></polygon>
          <polygon points="320,203.20508075688775 340,203.20508075688775 330,220.52558883257652"></polygon>
          <polygon points="330,220.52558883257652 350,220.52558883257652 340,203.20508075688775"></polygon>
          <polygon points="330,185.88457268119896 350,185.88457268119896 340,203.20508075688775"></polygon>
          <polygon points="340,203.20508075688775 360,203.20508075688775 350,185.88457268119896"></polygon>
          <polygon points="340,203.20508075688775 360,203.20508075688775 350,220.52558883257652"></polygon>
          </g>
          <g class="building" id="a3e7-8873">
          <title>empty empty trä empty</title>
          <polygon points="320,168.5640646055102 340,168.5640646055102 330,151.24355652982143"></polygon>
          <polygon points="320,168.5640646055102 340,168.5640646055102 330,185.88457268119896"></polygon>
          <polygon points="330,185.88457268119896 350,185.88457268119896 340,168.5640646055102"></polygon>
          <polygon points="330,151.24355652982143 350,151.24355652982143 340,168.5640646055102"></polygon>
          <polygon points="340,168.5640646055102 360,168.5640646055102 350,151.24355652982143"></polygon>
          <polygon points="340,168.5640646055102 360,168.5640646055102 350,185.88457268119896"></polygon>
          </g>
          <g class="building" id="f3c1-c997">
          <title>empty empty trä empty</title>
          <polygon points="350,116.60254037844388 370,116.60254037844388 360,99.2820323027551"></polygon>
          <polygon points="350,116.60254037844388 370,116.60254037844388 360,133.92304845413264"></polygon>
          <polygon points="360,133.92304845413264 380,133.92304845413264 370,116.60254037844388"></polygon>
          <polygon points="360,99.2820323027551 380,99.2820323027551 370,116.60254037844388"></polygon>
          <polygon points="370,116.60254037844388 390,116.60254037844388 380,99.2820323027551"></polygon>
          <polygon points="370,116.60254037844388 390,116.60254037844388 380,133.92304845413264"></polygon>
          </g>
          <g class="building" id="45fe-c15a">
          <title>empty trä empty empty</title>
          <polygon points="380,99.2820323027551 400,99.2820323027551 390,81.96152422706632"></polygon>
          <polygon points="380,99.2820323027551 400,99.2820323027551 390,116.60254037844388"></polygon>
          <polygon points="390,116.60254037844388 410,116.60254037844388 400,99.2820323027551"></polygon>
          <polygon points="390,81.96152422706632 410,81.96152422706632 400,99.2820323027551"></polygon>
          <polygon points="400,99.2820323027551 420,99.2820323027551 410,81.96152422706632"></polygon>
          <polygon points="400,99.2820323027551 420,99.2820323027551 410,116.60254037844388"></polygon>
          </g>
          </g>
          </g>
          <g class="boardpiece" id="ac21-5bc3-77e4">
          <g id="fields_ac21-5bc3-77e4">
          <g id="36e6-4585" class="field trä" type="trä">
          <polygon points="340,237.84609690826528 360,237.84609690826528 350,255.16660498395407"></polygon>
          <polygon points="330,255.16660498395407 350,255.16660498395407 340,237.84609690826528"></polygon>
          <polygon points="320,272.48711305964287 340,272.48711305964287 330,289.8076211353316"></polygon>
          <polygon points="320,272.48711305964287 340,272.48711305964287 330,255.16660498395407"></polygon>
          <polygon points="330,289.8076211353316 350,289.8076211353316 340,272.48711305964287"></polygon>
          <polygon points="330,255.16660498395407 350,255.16660498395407 340,272.48711305964287"></polygon>
          <polygon points="340,272.48711305964287 360,272.48711305964287 350,255.16660498395407"></polygon>
          <polygon points="340,272.48711305964287 360,272.48711305964287 350,289.8076211353316"></polygon>
          <polygon points="350,289.8076211353316 370,289.8076211353316 360,272.48711305964287"></polygon>
          <polygon points="350,255.16660498395407 370,255.16660498395407 360,237.84609690826528"></polygon>
          <polygon points="350,255.16660498395407 370,255.16660498395407 360,272.48711305964287"></polygon>
          <polygon points="360,272.48711305964287 380,272.48711305964287 370,255.16660498395407"></polygon>
          <polygon points="360,272.48711305964287 380,272.48711305964287 370,289.8076211353316"></polygon>
          <polygon points="370,289.8076211353316 390,289.8076211353316 380,272.48711305964287"></polygon>
          <polygon points="380,272.48711305964287 400,272.48711305964287 390,289.8076211353316"></polygon>
          <g class="number">
          <circle cx="340" cy="263.82685902179844" r="8.1"></circle>
          <text id="nr-36e6-4585" transform="matrix(1 0 0 1 340 268.82685902179844)">3</text>
          </g>
          </g>
          <g id="5315-43e0" class="field djur" type="djur">
          <polygon points="260,272.48711305964287 280,272.48711305964287 270,255.16660498395407"></polygon>
          <polygon points="260,272.48711305964287 280,272.48711305964287 270,289.8076211353316"></polygon>
          <polygon points="270,289.8076211353316 290,289.8076211353316 280,272.48711305964287"></polygon>
          <polygon points="280,237.84609690826528 300,237.84609690826528 290,255.16660498395407"></polygon>
          <polygon points="280,237.84609690826528 300,237.84609690826528 290,220.52558883257652"></polygon>
          <polygon points="270,220.52558883257652 290,220.52558883257652 280,203.20508075688775"></polygon>
          <polygon points="280,203.20508075688775 300,203.20508075688775 290,220.52558883257652"></polygon>
          <polygon points="300,203.20508075688775 320,203.20508075688775 310,220.52558883257652"></polygon>
          <polygon points="290,220.52558883257652 310,220.52558883257652 300,203.20508075688775"></polygon>
          <polygon points="290,220.52558883257652 310,220.52558883257652 300,237.84609690826528"></polygon>
          <polygon points="290,255.16660498395407 310,255.16660498395407 300,272.48711305964287"></polygon>
          <polygon points="290,255.16660498395407 310,255.16660498395407 300,237.84609690826528"></polygon>
          <polygon points="310,220.52558883257652 330,220.52558883257652 320,203.20508075688775"></polygon>
          <polygon points="310,220.52558883257652 330,220.52558883257652 320,237.84609690826528"></polygon>
          <polygon points="300,237.84609690826528 320,237.84609690826528 310,220.52558883257652"></polygon>
          <polygon points="300,237.84609690826528 320,237.84609690826528 310,255.16660498395407"></polygon>
          <polygon points="300,272.48711305964287 320,272.48711305964287 310,255.16660498395407"></polygon>
          <polygon points="310,255.16660498395407 330,255.16660498395407 320,272.48711305964287"></polygon>
          <polygon points="310,255.16660498395407 330,255.16660498395407 320,237.84609690826528"></polygon>
          <polygon points="320,237.84609690826528 340,237.84609690826528 330,255.16660498395407"></polygon>
          <polygon points="320,237.84609690826528 340,237.84609690826528 330,220.52558883257652"></polygon>
          <polygon points="340,237.84609690826528 360,237.84609690826528 350,220.52558883257652"></polygon>
          <polygon points="330,220.52558883257652 350,220.52558883257652 340,237.84609690826528"></polygon>
          <polygon points="330,220.52558883257652 350,220.52558883257652 340,203.20508075688775"></polygon>
          <polygon points="320,203.20508075688775 340,203.20508075688775 330,220.52558883257652"></polygon>
          <polygon points="320,203.20508075688775 340,203.20508075688775 330,185.88457268119896"></polygon>
          <polygon points="310,185.88457268119896 330,185.88457268119896 320,203.20508075688775"></polygon>
          <polygon points="300,203.20508075688775 320,203.20508075688775 310,185.88457268119896"></polygon>
          <polygon points="290,185.88457268119896 310,185.88457268119896 300,203.20508075688775"></polygon>
          <polygon points="280,203.20508075688775 300,203.20508075688775 290,185.88457268119896"></polygon>
          <polygon points="270,185.88457268119896 290,185.88457268119896 280,203.20508075688775"></polygon>
          <polygon points="250,185.88457268119896 270,185.88457268119896 260,203.20508075688775"></polygon>
          <polygon points="260,203.20508075688775 280,203.20508075688775 270,185.88457268119896"></polygon>
          <polygon points="250,220.52558883257652 270,220.52558883257652 260,237.84609690826528"></polygon>
          <polygon points="230,185.88457268119896 250,185.88457268119896 240,203.20508075688775"></polygon>
          <polygon points="240,203.20508075688775 260,203.20508075688775 250,185.88457268119896"></polygon>
          <polygon points="240,203.20508075688775 260,203.20508075688775 250,220.52558883257652"></polygon>
          <polygon points="250,220.52558883257652 270,220.52558883257652 260,203.20508075688775"></polygon>
          <polygon points="260,203.20508075688775 280,203.20508075688775 270,220.52558883257652"></polygon>
          <polygon points="270,220.52558883257652 290,220.52558883257652 280,237.84609690826528"></polygon>
          <polygon points="260,237.84609690826528 280,237.84609690826528 270,220.52558883257652"></polygon>
          <polygon points="260,237.84609690826528 280,237.84609690826528 270,255.16660498395407"></polygon>
          <polygon points="270,255.16660498395407 290,255.16660498395407 280,237.84609690826528"></polygon>
          <polygon points="270,255.16660498395407 290,255.16660498395407 280,272.48711305964287"></polygon>
          <polygon points="280,272.48711305964287 300,272.48711305964287 290,255.16660498395407"></polygon>
          <polygon points="280,272.48711305964287 300,272.48711305964287 290,289.8076211353316"></polygon>
          <polygon points="290,289.8076211353316 310,289.8076211353316 300,272.48711305964287"></polygon>
          <polygon points="300,272.48711305964287 320,272.48711305964287 310,289.8076211353316"></polygon>
          <polygon points="310,289.8076211353316 330,289.8076211353316 320,272.48711305964287"></polygon>
          <g class="number">
          <circle cx="300" cy="229.1858428704209" r="8.1"></circle>
          <text id="nr-5315-43e0" transform="matrix(1 0 0 1 300 234.1858428704209)">3</text>
          </g>
          </g>
          <g id="562f-fc7c" class="field säd" type="säd">
          <polygon points="190,81.96152422706632 210,81.96152422706632 200,99.2820323027551"></polygon>
          <polygon points="210,116.60254037844388 230,116.60254037844388 220,133.92304845413264"></polygon>
          <polygon points="220,133.92304845413264 240,133.92304845413264 230,151.24355652982143"></polygon>
          <polygon points="200,133.92304845413264 220,133.92304845413264 210,151.24355652982143"></polygon>
          <polygon points="190,116.60254037844388 210,116.60254037844388 200,133.92304845413264"></polygon>
          <polygon points="200,133.92304845413264 220,133.92304845413264 210,116.60254037844388"></polygon>
          <polygon points="210,151.24355652982143 230,151.24355652982143 220,133.92304845413264"></polygon>
          <polygon points="210,151.24355652982143 230,151.24355652982143 220,168.5640646055102"></polygon>
          <polygon points="220,168.5640646055102 240,168.5640646055102 230,151.24355652982143"></polygon>
          <polygon points="240,168.5640646055102 260,168.5640646055102 250,151.24355652982143"></polygon>
          <polygon points="230,151.24355652982143 250,151.24355652982143 240,168.5640646055102"></polygon>
          <polygon points="240,133.92304845413264 260,133.92304845413264 250,151.24355652982143"></polygon>
          <polygon points="230,151.24355652982143 250,151.24355652982143 240,133.92304845413264"></polygon>
          <polygon points="220,133.92304845413264 240,133.92304845413264 230,116.60254037844388"></polygon>
          <polygon points="210,116.60254037844388 230,116.60254037844388 220,99.2820323027551"></polygon>
          <polygon points="200,99.2820323027551 220,99.2820323027551 210,81.96152422706632"></polygon>
          <polygon points="200,99.2820323027551 220,99.2820323027551 210,116.60254037844388"></polygon>
          <polygon points="190,116.60254037844388 210,116.60254037844388 200,99.2820323027551"></polygon>
          <polygon points="180,99.2820323027551 200,99.2820323027551 190,116.60254037844388"></polygon>
          <polygon points="180,99.2820323027551 200,99.2820323027551 190,81.96152422706632"></polygon>
          <polygon points="180,64.64101615137756 200,64.64101615137756 190,81.96152422706632"></polygon>
          <polygon points="190,81.96152422706632 210,81.96152422706632 200,64.64101615137756"></polygon>
          <polygon points="200,64.64101615137756 220,64.64101615137756 210,81.96152422706632"></polygon>
          <polygon points="210,81.96152422706632 230,81.96152422706632 220,64.64101615137756"></polygon>
          <polygon points="210,81.96152422706632 230,81.96152422706632 220,99.2820323027551"></polygon>
          <polygon points="220,99.2820323027551 240,99.2820323027551 230,81.96152422706632"></polygon>
          <polygon points="220,99.2820323027551 240,99.2820323027551 230,116.60254037844388"></polygon>
          <polygon points="230,116.60254037844388 250,116.60254037844388 240,99.2820323027551"></polygon>
          <polygon points="230,116.60254037844388 250,116.60254037844388 240,133.92304845413264"></polygon>
          <polygon points="240,133.92304845413264 260,133.92304845413264 250,116.60254037844388"></polygon>
          <polygon points="250,116.60254037844388 270,116.60254037844388 260,133.92304845413264"></polygon>
          <polygon points="260,133.92304845413264 280,133.92304845413264 270,151.24355652982143"></polygon>
          <polygon points="250,151.24355652982143 270,151.24355652982143 260,133.92304845413264"></polygon>
          <polygon points="250,151.24355652982143 270,151.24355652982143 260,168.5640646055102"></polygon>
          <polygon points="260,168.5640646055102 280,168.5640646055102 270,151.24355652982143"></polygon>
          <polygon points="270,185.88457268119896 290,185.88457268119896 280,168.5640646055102"></polygon>
          <polygon points="260,168.5640646055102 280,168.5640646055102 270,185.88457268119896"></polygon>
          <polygon points="250,185.88457268119896 270,185.88457268119896 260,168.5640646055102"></polygon>
          <polygon points="240,168.5640646055102 260,168.5640646055102 250,185.88457268119896"></polygon>
          <polygon points="230,185.88457268119896 250,185.88457268119896 240,168.5640646055102"></polygon>
          <polygon points="220,168.5640646055102 240,168.5640646055102 230,185.88457268119896"></polygon>
          <g class="number">
          <circle cx="230" cy="125.26279441628826" r="8.1"></circle>
          <text id="nr-562f-fc7c" transform="matrix(1 0 0 1 230 130.26279441628827)">3</text>
          </g>
          </g>
          <g id="b727-27bf" class="field trä" type="trä">
          <polygon points="140,133.92304845413264 160,133.92304845413264 150,116.60254037844388"></polygon>
          <polygon points="140,133.92304845413264 160,133.92304845413264 150,151.24355652982143"></polygon>
          <polygon points="160,133.92304845413264 180,133.92304845413264 170,116.60254037844388"></polygon>
          <polygon points="140,99.2820323027551 160,99.2820323027551 150,81.96152422706632"></polygon>
          <polygon points="140,99.2820323027551 160,99.2820323027551 150,116.60254037844388"></polygon>
          <polygon points="150,116.60254037844388 170,116.60254037844388 160,99.2820323027551"></polygon>
          <polygon points="150,116.60254037844388 170,116.60254037844388 160,133.92304845413264"></polygon>
          <polygon points="160,133.92304845413264 180,133.92304845413264 170,151.24355652982143"></polygon>
          <polygon points="150,151.24355652982143 170,151.24355652982143 160,133.92304845413264"></polygon>
          <polygon points="150,151.24355652982143 170,151.24355652982143 160,168.5640646055102"></polygon>
          <polygon points="160,168.5640646055102 180,168.5640646055102 170,151.24355652982143"></polygon>
          <polygon points="170,151.24355652982143 190,151.24355652982143 180,168.5640646055102"></polygon>
          <polygon points="170,151.24355652982143 190,151.24355652982143 180,133.92304845413264"></polygon>
          <polygon points="180,133.92304845413264 200,133.92304845413264 190,151.24355652982143"></polygon>
          <polygon points="180,133.92304845413264 200,133.92304845413264 190,116.60254037844388"></polygon>
          <polygon points="170,116.60254037844388 190,116.60254037844388 180,133.92304845413264"></polygon>
          <polygon points="170,116.60254037844388 190,116.60254037844388 180,99.2820323027551"></polygon>
          <polygon points="160,99.2820323027551 180,99.2820323027551 170,116.60254037844388"></polygon>
          <polygon points="170,81.96152422706632 190,81.96152422706632 180,99.2820323027551"></polygon>
          <polygon points="160,99.2820323027551 180,99.2820323027551 170,81.96152422706632"></polygon>
          <polygon points="150,81.96152422706632 170,81.96152422706632 160,99.2820323027551"></polygon>
          <polygon points="150,81.96152422706632 170,81.96152422706632 160,64.64101615137756"></polygon>
          <polygon points="160,64.64101615137756 180,64.64101615137756 170,81.96152422706632"></polygon>
          <polygon points="170,81.96152422706632 190,81.96152422706632 180,64.64101615137756"></polygon>
          <g class="number">
          <circle cx="160" cy="125.26279441628826" r="8.1"></circle>
          <text id="nr-b727-27bf" transform="matrix(1 0 0 1 160 130.26279441628827)">3</text>
          </g>
          </g>
          <g id="46ca-8ed2" class="field djur" type="djur">
          <polygon points="140,272.48711305964287 160,272.48711305964287 150,289.8076211353316"></polygon>
          <polygon points="150,289.8076211353316 170,289.8076211353316 160,272.48711305964287"></polygon>
          <polygon points="160,272.48711305964287 180,272.48711305964287 170,289.8076211353316"></polygon>
          <polygon points="180,272.48711305964287 200,272.48711305964287 190,255.16660498395407"></polygon>
          <polygon points="190,255.16660498395407 210,255.16660498395407 200,272.48711305964287"></polygon>
          <polygon points="190,255.16660498395407 210,255.16660498395407 200,237.84609690826528"></polygon>
          <polygon points="190,220.52558883257652 210,220.52558883257652 200,237.84609690826528"></polygon>
          <polygon points="130,255.16660498395407 150,255.16660498395407 140,272.48711305964287"></polygon>
          <polygon points="130,255.16660498395407 150,255.16660498395407 140,237.84609690826528"></polygon>
          <polygon points="160,237.84609690826528 180,237.84609690826528 170,220.52558883257652"></polygon>
          <polygon points="160,237.84609690826528 180,237.84609690826528 170,255.16660498395407"></polygon>
          <polygon points="180,237.84609690826528 200,237.84609690826528 190,255.16660498395407"></polygon>
          <polygon points="180,237.84609690826528 200,237.84609690826528 190,220.52558883257652"></polygon>
          <polygon points="170,220.52558883257652 190,220.52558883257652 180,237.84609690826528"></polygon>
          <polygon points="170,255.16660498395407 190,255.16660498395407 180,237.84609690826528"></polygon>
          <polygon points="170,255.16660498395407 190,255.16660498395407 180,272.48711305964287"></polygon>
          <polygon points="160,272.48711305964287 180,272.48711305964287 170,255.16660498395407"></polygon>
          <polygon points="140,272.48711305964287 160,272.48711305964287 150,255.16660498395407"></polygon>
          <polygon points="150,255.16660498395407 170,255.16660498395407 160,272.48711305964287"></polygon>
          <polygon points="150,255.16660498395407 170,255.16660498395407 160,237.84609690826528"></polygon>
          <polygon points="140,237.84609690826528 160,237.84609690826528 150,255.16660498395407"></polygon>
          <polygon points="140,237.84609690826528 160,237.84609690826528 150,220.52558883257652"></polygon>
          <polygon points="150,220.52558883257652 170,220.52558883257652 160,237.84609690826528"></polygon>
          <polygon points="190,185.88457268119896 210,185.88457268119896 200,168.5640646055102"></polygon>
          <polygon points="180,203.20508075688775 200,203.20508075688775 190,185.88457268119896"></polygon>
          <polygon points="190,185.88457268119896 210,185.88457268119896 200,203.20508075688775"></polygon>
          <polygon points="200,203.20508075688775 220,203.20508075688775 210,185.88457268119896"></polygon>
          <polygon points="220,203.20508075688775 240,203.20508075688775 230,185.88457268119896"></polygon>
          <polygon points="210,185.88457268119896 230,185.88457268119896 220,203.20508075688775"></polygon>
          <polygon points="210,185.88457268119896 230,185.88457268119896 220,168.5640646055102"></polygon>
          <polygon points="200,168.5640646055102 220,168.5640646055102 210,185.88457268119896"></polygon>
          <polygon points="200,168.5640646055102 220,168.5640646055102 210,151.24355652982143"></polygon>
          <polygon points="190,151.24355652982143 210,151.24355652982143 200,133.92304845413264"></polygon>
          <polygon points="190,151.24355652982143 210,151.24355652982143 200,168.5640646055102"></polygon>
          <polygon points="180,168.5640646055102 200,168.5640646055102 190,151.24355652982143"></polygon>
          <polygon points="180,168.5640646055102 200,168.5640646055102 190,185.88457268119896"></polygon>
          <polygon points="170,185.88457268119896 190,185.88457268119896 180,168.5640646055102"></polygon>
          <polygon points="170,185.88457268119896 190,185.88457268119896 180,203.20508075688775"></polygon>
          <polygon points="160,203.20508075688775 180,203.20508075688775 170,185.88457268119896"></polygon>
          <polygon points="150,220.52558883257652 170,220.52558883257652 160,203.20508075688775"></polygon>
          <polygon points="160,203.20508075688775 180,203.20508075688775 170,220.52558883257652"></polygon>
          <polygon points="170,220.52558883257652 190,220.52558883257652 180,203.20508075688775"></polygon>
          <polygon points="180,203.20508075688775 200,203.20508075688775 190,220.52558883257652"></polygon>
          <polygon points="190,220.52558883257652 210,220.52558883257652 200,203.20508075688775"></polygon>
          <polygon points="200,203.20508075688775 220,203.20508075688775 210,220.52558883257652"></polygon>
          <polygon points="210,220.52558883257652 230,220.52558883257652 220,203.20508075688775"></polygon>
          <polygon points="220,203.20508075688775 240,203.20508075688775 230,220.52558883257652"></polygon>
          <polygon points="230,220.52558883257652 250,220.52558883257652 240,203.20508075688775"></polygon>
          <g class="number">
          <circle cx="170" cy="246.50635094610968" r="8.1"></circle>
          <text id="nr-46ca-8ed2" transform="matrix(1 0 0 1 170 251.50635094610968)">3</text>
          </g>
          </g>
          <g id="63bc-ffb6" class="field trä" type="trä">
          <polygon points="250,81.96152422706632 270,81.96152422706632 260,64.64101615137756"></polygon>
          <polygon points="260,99.2820323027551 280,99.2820323027551 270,81.96152422706632"></polygon>
          <polygon points="280,99.2820323027551 300,99.2820323027551 290,81.96152422706632"></polygon>
          <polygon points="270,81.96152422706632 290,81.96152422706632 280,99.2820323027551"></polygon>
          <polygon points="270,81.96152422706632 290,81.96152422706632 280,64.64101615137756"></polygon>
          <polygon points="260,64.64101615137756 280,64.64101615137756 270,81.96152422706632"></polygon>
          <polygon points="250,81.96152422706632 270,81.96152422706632 260,99.2820323027551"></polygon>
          <polygon points="230,81.96152422706632 250,81.96152422706632 240,99.2820323027551"></polygon>
          <polygon points="240,99.2820323027551 260,99.2820323027551 250,81.96152422706632"></polygon>
          <polygon points="240,99.2820323027551 260,99.2820323027551 250,116.60254037844388"></polygon>
          <polygon points="250,116.60254037844388 270,116.60254037844388 260,99.2820323027551"></polygon>
          <polygon points="260,99.2820323027551 280,99.2820323027551 270,116.60254037844388"></polygon>
          <polygon points="270,116.60254037844388 290,116.60254037844388 280,99.2820323027551"></polygon>
          <polygon points="280,99.2820323027551 300,99.2820323027551 290,116.60254037844388"></polygon>
          <polygon points="290,116.60254037844388 310,116.60254037844388 300,99.2820323027551"></polygon>
          <polygon points="300,99.2820323027551 320,99.2820323027551 310,116.60254037844388"></polygon>
          <polygon points="300,99.2820323027551 320,99.2820323027551 310,81.96152422706632"></polygon>
          <polygon points="290,81.96152422706632 310,81.96152422706632 300,99.2820323027551"></polygon>
          <polygon points="290,81.96152422706632 310,81.96152422706632 300,64.64101615137756"></polygon>
          <polygon points="280,64.64101615137756 300,64.64101615137756 290,81.96152422706632"></polygon>
          <polygon points="280,64.64101615137756 300,64.64101615137756 290,47.32050807568878"></polygon>
          <polygon points="270,47.32050807568878 290,47.32050807568878 280,64.64101615137756"></polygon>
          <polygon points="260,64.64101615137756 280,64.64101615137756 270,47.32050807568878"></polygon>
          <polygon points="250,47.32050807568878 270,47.32050807568878 260,64.64101615137756"></polygon>
          <polygon points="240,64.64101615137756 260,64.64101615137756 250,47.32050807568878"></polygon>
          <polygon points="240,64.64101615137756 260,64.64101615137756 250,81.96152422706632"></polygon>
          <polygon points="230,81.96152422706632 250,81.96152422706632 240,64.64101615137756"></polygon>
          <polygon points="220,64.64101615137756 240,64.64101615137756 230,81.96152422706632"></polygon>
          <g class="number">
          <circle cx="260" cy="90.62177826491072" r="8.1"></circle>
          <text id="nr-63bc-ffb6" transform="matrix(1 0 0 1 260 95.62177826491072)">3</text>
          </g>
          </g>
          <g id="eb30-e7e0" class="field djur" type="djur">
          <polygon points="290,151.24355652982143 310,151.24355652982143 300,133.92304845413264"></polygon>
          <polygon points="290,151.24355652982143 310,151.24355652982143 300,168.5640646055102"></polygon>
          <polygon points="300,168.5640646055102 320,168.5640646055102 310,151.24355652982143"></polygon>
          <polygon points="310,151.24355652982143 330,151.24355652982143 320,168.5640646055102"></polygon>
          <polygon points="310,151.24355652982143 330,151.24355652982143 320,133.92304845413264"></polygon>
          <polygon points="300,133.92304845413264 320,133.92304845413264 310,151.24355652982143"></polygon>
          <polygon points="280,133.92304845413264 300,133.92304845413264 290,151.24355652982143"></polygon>
          <polygon points="270,151.24355652982143 290,151.24355652982143 280,133.92304845413264"></polygon>
          <polygon points="270,151.24355652982143 290,151.24355652982143 280,168.5640646055102"></polygon>
          <polygon points="280,168.5640646055102 300,168.5640646055102 290,151.24355652982143"></polygon>
          <polygon points="280,168.5640646055102 300,168.5640646055102 290,185.88457268119896"></polygon>
          <polygon points="290,185.88457268119896 310,185.88457268119896 300,168.5640646055102"></polygon>
          <polygon points="300,168.5640646055102 320,168.5640646055102 310,185.88457268119896"></polygon>
          <polygon points="310,185.88457268119896 330,185.88457268119896 320,168.5640646055102"></polygon>
          <polygon points="320,168.5640646055102 340,168.5640646055102 330,185.88457268119896"></polygon>
          <polygon points="320,168.5640646055102 340,168.5640646055102 330,151.24355652982143"></polygon>
          <polygon points="330,151.24355652982143 350,151.24355652982143 340,168.5640646055102"></polygon>
          <polygon points="330,151.24355652982143 350,151.24355652982143 340,133.92304845413264"></polygon>
          <polygon points="320,133.92304845413264 340,133.92304845413264 330,151.24355652982143"></polygon>
          <polygon points="320,133.92304845413264 340,133.92304845413264 330,116.60254037844388"></polygon>
          <polygon points="310,116.60254037844388 330,116.60254037844388 320,99.2820323027551"></polygon>
          <polygon points="310,116.60254037844388 330,116.60254037844388 320,133.92304845413264"></polygon>
          <polygon points="300,133.92304845413264 320,133.92304845413264 310,116.60254037844388"></polygon>
          <polygon points="290,116.60254037844388 310,116.60254037844388 300,133.92304845413264"></polygon>
          <polygon points="280,133.92304845413264 300,133.92304845413264 290,116.60254037844388"></polygon>
          <polygon points="270,116.60254037844388 290,116.60254037844388 280,133.92304845413264"></polygon>
          <polygon points="260,133.92304845413264 280,133.92304845413264 270,116.60254037844388"></polygon>
          <g class="number">
          <circle cx="300" cy="142.58330249197704" r="8.1"></circle>
          <text id="nr-eb30-e7e0" transform="matrix(1 0 0 1 300 147.58330249197704)">3</text>
          </g>
          </g>
          <g id="8edc-fe31" class="field djur" type="djur">
          <polygon points="360,64.64101615137756 380,64.64101615137756 370,81.96152422706632"></polygon>
          <polygon points="370,81.96152422706632 390,81.96152422706632 380,64.64101615137756"></polygon>
          <polygon points="370,81.96152422706632 390,81.96152422706632 380,99.2820323027551"></polygon>
          <polygon points="380,99.2820323027551 400,99.2820323027551 390,81.96152422706632"></polygon>
          <polygon points="340,64.64101615137756 360,64.64101615137756 350,81.96152422706632"></polygon>
          <polygon points="350,81.96152422706632 370,81.96152422706632 360,64.64101615137756"></polygon>
          <polygon points="330,81.96152422706632 350,81.96152422706632 340,99.2820323027551"></polygon>
          <polygon points="330,81.96152422706632 350,81.96152422706632 340,64.64101615137756"></polygon>
          <polygon points="320,64.64101615137756 340,64.64101615137756 330,81.96152422706632"></polygon>
          <polygon points="300,64.64101615137756 320,64.64101615137756 310,81.96152422706632"></polygon>
          <polygon points="310,81.96152422706632 330,81.96152422706632 320,64.64101615137756"></polygon>
          <polygon points="310,81.96152422706632 330,81.96152422706632 320,99.2820323027551"></polygon>
          <polygon points="320,99.2820323027551 340,99.2820323027551 330,81.96152422706632"></polygon>
          <polygon points="320,99.2820323027551 340,99.2820323027551 330,116.60254037844388"></polygon>
          <polygon points="330,116.60254037844388 350,116.60254037844388 340,99.2820323027551"></polygon>
          <polygon points="330,116.60254037844388 350,116.60254037844388 340,133.92304845413264"></polygon>
          <polygon points="340,99.2820323027551 360,99.2820323027551 350,116.60254037844388"></polygon>
          <polygon points="340,99.2820323027551 360,99.2820323027551 350,81.96152422706632"></polygon>
          <polygon points="350,81.96152422706632 370,81.96152422706632 360,99.2820323027551"></polygon>
          <polygon points="360,99.2820323027551 380,99.2820323027551 370,81.96152422706632"></polygon>
          <polygon points="360,99.2820323027551 380,99.2820323027551 370,116.60254037844388"></polygon>
          <polygon points="350,116.60254037844388 370,116.60254037844388 360,99.2820323027551"></polygon>
          <polygon points="350,116.60254037844388 370,116.60254037844388 360,133.92304845413264"></polygon>
          <polygon points="340,133.92304845413264 360,133.92304845413264 350,116.60254037844388"></polygon>
          <polygon points="340,133.92304845413264 360,133.92304845413264 350,151.24355652982143"></polygon>
          <g class="number">
          <circle cx="350" cy="90.62177826491072" r="8.1"></circle>
          <text id="nr-8edc-fe31" transform="matrix(1 0 0 1 350 95.62177826491072)">3</text>
          </g>
          </g>
          </g>
          <g id="roads_ac21-5bc3-77e4">
          <g class="road">
          <circle cx="380" cy="99.2820323027551" r="2"></circle> <circle cx="330" cy="185.88457268119896" r="2"></circle>
          <line x1="380" y1="99.2820323027551" x2="330" y2="185.88457268119896"></line>
          </g>
          <g class="road">
          <circle cx="330" cy="185.88457268119896" r="2"></circle> <circle cx="380" cy="272.48711305964287" r="2"></circle>
          <line x1="330" y1="185.88457268119896" x2="380" y2="272.48711305964287"></line>
          </g>
          <g class="road">
          <circle cx="330" cy="185.88457268119896" r="2"></circle> <circle cx="230" cy="185.88457268119896" r="2"></circle>
          <line x1="330" y1="185.88457268119896" x2="230" y2="185.88457268119896"></line>
          </g>
          <g class="road">
          <circle cx="230" cy="185.88457268119896" r="2"></circle> <circle cx="180" cy="99.2820323027551" r="2"></circle>
          <line x1="230" y1="185.88457268119896" x2="180" y2="99.2820323027551"></line>
          </g>
          <g class="road">
          <circle cx="230" cy="185.88457268119896" r="2"></circle> <circle cx="280" cy="272.48711305964287" r="2"></circle>
          <line x1="230" y1="185.88457268119896" x2="280" y2="272.48711305964287"></line>
          </g>
          <g class="road">
          <circle cx="200" cy="133.92304845413264" r="2"></circle> <circle cx="150" cy="220.52558883257652" r="2"></circle>
          <line x1="200" y1="133.92304845413264" x2="150" y2="220.52558883257652"></line>
          </g>
          <g class="road">
          <circle cx="350" cy="151.24355652982143" r="2"></circle> <circle cx="300" cy="64.64101615137756" r="2"></circle>
          <line x1="350" y1="151.24355652982143" x2="300" y2="64.64101615137756"></line>
          </g>
          </g>
          <g id="buildings_ac21-5bc3-77e4">
          <g class="building" id="065b-008f" x="370" y="255">
          <title>trä empty empty empty</title>
          <polygon points="350,255.16660498395407 370,255.16660498395407 360,272.48711305964287"></polygon>
          <polygon points="360,272.48711305964287 380,272.48711305964287 370,255.16660498395407"></polygon>
          <polygon points="370,255.16660498395407 390,255.16660498395407 380,272.48711305964287"></polygon>
          <polygon points="350,255.16660498395407 370,255.16660498395407 360,237.84609690826528"></polygon>
          <polygon points="360,237.84609690826528 380,237.84609690826528 370,255.16660498395407"></polygon>
          <polygon points="370,255.16660498395407 390,255.16660498395407 380,237.84609690826528"></polygon>
          </g>
          <g class="building" id="466c-71e8" x="340" y="203">
          <title>djur empty empty empty</title>
          <polygon points="320,203.20508075688775 340,203.20508075688775 330,220.52558883257652"></polygon>
          <polygon points="330,220.52558883257652 350,220.52558883257652 340,203.20508075688775"></polygon>
          <polygon points="340,203.20508075688775 360,203.20508075688775 350,220.52558883257652"></polygon>
          <polygon points="320,203.20508075688775 340,203.20508075688775 330,185.88457268119896"></polygon>
          <polygon points="330,185.88457268119896 350,185.88457268119896 340,203.20508075688775"></polygon>
          <polygon points="340,203.20508075688775 360,203.20508075688775 350,185.88457268119896"></polygon>
          </g>
          <g class="building" id="d135-f26a" x="340" y="168">
          <title>djur empty empty empty</title>
          <polygon points="320,168.5640646055102 340,168.5640646055102 330,185.88457268119896"></polygon>
          <polygon points="330,185.88457268119896 350,185.88457268119896 340,168.5640646055102"></polygon>
          <polygon points="340,168.5640646055102 360,168.5640646055102 350,185.88457268119896"></polygon>
          <polygon points="320,168.5640646055102 340,168.5640646055102 330,151.24355652982143"></polygon>
          <polygon points="330,151.24355652982143 350,151.24355652982143 340,168.5640646055102"></polygon>
          <polygon points="340,168.5640646055102 360,168.5640646055102 350,151.24355652982143"></polygon>
          </g>
          <g class="building" id="91e1-8213" x="370" y="116">
          <title>djur empty empty empty</title>
          <polygon points="350,116.60254037844388 370,116.60254037844388 360,133.92304845413264"></polygon>
          <polygon points="360,133.92304845413264 380,133.92304845413264 370,116.60254037844388"></polygon>
          <polygon points="370,116.60254037844388 390,116.60254037844388 380,133.92304845413264"></polygon>
          <polygon points="350,116.60254037844388 370,116.60254037844388 360,99.2820323027551"></polygon>
          <polygon points="360,99.2820323027551 380,99.2820323027551 370,116.60254037844388"></polygon>
          <polygon points="370,116.60254037844388 390,116.60254037844388 380,99.2820323027551"></polygon>
          </g>
          <g class="building" id="d736-0548" x="340" y="133">
          <title>djur djur</title>
          <polygon points="320,133.92304845413264 340,133.92304845413264 330,151.24355652982143"></polygon>
          <polygon points="330,151.24355652982143 350,151.24355652982143 340,133.92304845413264"></polygon>
          <polygon points="340,133.92304845413264 360,133.92304845413264 350,151.24355652982143"></polygon>
          <polygon points="320,133.92304845413264 340,133.92304845413264 330,116.60254037844388"></polygon>
          <polygon points="330,116.60254037844388 350,116.60254037844388 340,133.92304845413264"></polygon>
          <polygon points="340,133.92304845413264 360,133.92304845413264 350,116.60254037844388"></polygon>
          </g>
          <g class="building" id="6667-77b3" x="310" y="81">
          <title>trä djur</title>
          <polygon points="290,81.96152422706632 310,81.96152422706632 300,99.2820323027551"></polygon>
          <polygon points="300,99.2820323027551 320,99.2820323027551 310,81.96152422706632"></polygon>
          <polygon points="310,81.96152422706632 330,81.96152422706632 320,99.2820323027551"></polygon>
          <polygon points="290,81.96152422706632 310,81.96152422706632 300,64.64101615137756"></polygon>
          <polygon points="300,64.64101615137756 320,64.64101615137756 310,81.96152422706632"></polygon>
          <polygon points="310,81.96152422706632 330,81.96152422706632 320,64.64101615137756"></polygon>
          </g>
          <g class="building" id="c036-e967" x="190" y="116">
          <title>trä säd</title>
          <polygon points="170,116.60254037844388 190,116.60254037844388 180,133.92304845413264"></polygon>
          <polygon points="180,133.92304845413264 200,133.92304845413264 190,116.60254037844388"></polygon>
          <polygon points="190,116.60254037844388 210,116.60254037844388 200,133.92304845413264"></polygon>
          <polygon points="170,116.60254037844388 190,116.60254037844388 180,99.2820323027551"></polygon>
          <polygon points="180,99.2820323027551 200,99.2820323027551 190,116.60254037844388"></polygon>
          <polygon points="190,116.60254037844388 210,116.60254037844388 200,99.2820323027551"></polygon>
          </g>
          <g class="building" id="a124-d82b" x="220" y="168">
          <title>djur säd</title>
          <polygon points="200,168.5640646055102 220,168.5640646055102 210,185.88457268119896"></polygon>
          <polygon points="210,185.88457268119896 230,185.88457268119896 220,168.5640646055102"></polygon>
          <polygon points="220,168.5640646055102 240,168.5640646055102 230,185.88457268119896"></polygon>
          <polygon points="200,168.5640646055102 220,168.5640646055102 210,151.24355652982143"></polygon>
          <polygon points="210,151.24355652982143 230,151.24355652982143 220,168.5640646055102"></polygon>
          <polygon points="220,168.5640646055102 240,168.5640646055102 230,151.24355652982143"></polygon>
          </g>
          <g class="building" id="bd68-3816" x="190" y="151">
          <title>trä djur</title>
          <polygon points="170,151.24355652982143 190,151.24355652982143 180,168.5640646055102"></polygon>
          <polygon points="180,168.5640646055102 200,168.5640646055102 190,151.24355652982143"></polygon>
          <polygon points="190,151.24355652982143 210,151.24355652982143 200,168.5640646055102"></polygon>
          <polygon points="170,151.24355652982143 190,151.24355652982143 180,133.92304845413264"></polygon>
          <polygon points="180,133.92304845413264 200,133.92304845413264 190,151.24355652982143"></polygon>
          <polygon points="190,151.24355652982143 210,151.24355652982143 200,133.92304845413264"></polygon>
          </g>
          <g class="building" id="41aa-5f67" x="250" y="185.88457268119896">
          <title>djur säd</title>
          <polygon points="230,185.88457268119896 250,185.88457268119896 240,203.20508075688775"></polygon>
          <polygon points="240,203.20508075688775 260,203.20508075688775 250,185.88457268119896"></polygon>
          <polygon points="250,185.88457268119896 270,185.88457268119896 260,203.20508075688775"></polygon>
          <polygon points="230,185.88457268119896 250,185.88457268119896 240,168.5640646055102"></polygon>
          <polygon points="240,168.5640646055102 260,168.5640646055102 250,185.88457268119896"></polygon>
          <polygon points="250,185.88457268119896 270,185.88457268119896 260,168.5640646055102"></polygon>
          </g>
          <g class="building" id="2196-dfb9" x="310" y="185.88457268119896">
          <title>djur djur</title>
          <polygon points="290,185.88457268119896 310,185.88457268119896 300,203.20508075688775"></polygon>
          <polygon points="300,203.20508075688775 320,203.20508075688775 310,185.88457268119896"></polygon>
          <polygon points="310,185.88457268119896 330,185.88457268119896 320,203.20508075688775"></polygon>
          <polygon points="290,185.88457268119896 310,185.88457268119896 300,168.5640646055102"></polygon>
          <polygon points="300,168.5640646055102 320,168.5640646055102 310,185.88457268119896"></polygon>
          <polygon points="310,185.88457268119896 330,185.88457268119896 320,168.5640646055102"></polygon>
          </g>
          <g class="building" id="1c98-e5db" x="270" y="255.16660498395407">
          <title>empty djur empty</title>
          <polygon points="250,255.16660498395407 270,255.16660498395407 260,272.48711305964287"></polygon>
          <polygon points="260,272.48711305964287 280,272.48711305964287 270,255.16660498395407"></polygon>
          <polygon points="270,255.16660498395407 290,255.16660498395407 280,272.48711305964287"></polygon>
          <polygon points="250,255.16660498395407 270,255.16660498395407 260,237.84609690826528"></polygon>
          <polygon points="260,237.84609690826528 280,237.84609690826528 270,255.16660498395407"></polygon>
          <polygon points="270,255.16660498395407 290,255.16660498395407 280,237.84609690826528"></polygon>
          </g>
          <g class="building" id="3a99-ce66" x="160" y="203.20508075688775">
          <title>empty djur empty empty</title>
          <polygon points="140,203.20508075688775 160,203.20508075688775 150,220.52558883257652"></polygon>
          <polygon points="150,220.52558883257652 170,220.52558883257652 160,203.20508075688775"></polygon>
          <polygon points="160,203.20508075688775 180,203.20508075688775 170,220.52558883257652"></polygon>
          <polygon points="140,203.20508075688775 160,203.20508075688775 150,185.88457268119896"></polygon>
          <polygon points="150,185.88457268119896 170,185.88457268119896 160,203.20508075688775"></polygon>
          <polygon points="160,203.20508075688775 180,203.20508075688775 170,185.88457268119896"></polygon>
          </g>
          <!-- <g class="new_building" v-bind:style="{transform: 'translate('+move.x+'px,'+move.y+'px)'}" v-on:touchstart="startMove" v-on:touchmove="startMove" v-on:touchend="moveEnd" v-on:transitionend="transitionEnd">
            <title>empty djur empty empty</title>
            <polygon points="-20,-17.320508075688764 -10,0 10,0 20,-17.320508075688764 10,-34.6410161514 -10,-34.6410161514"></polygon>
          </g>  -->
          </g>
          </g>
        </g>
      </defs>

      <g id="svg-board">
        <use xlink:href="#svg-map"></use>
         <!-- v-bind:style="{transform: 'translate('+move.x+'px,'+move.y+'px)'}" v-on:touchstart.stop="startMove" v-on:touchmove="startMove" v-on:touchend.stop="moveEnd"  -->
        <g v-bind:style="{transform: 'translate('+ viewBox[0] +'px,'+ viewBox[1] +'px)', background: 'red'}">
          <rect width="100%" height="60" style="fill:#ad9d85; filter: url('#shadow')"/>
          <g class="new_building" v-for="building in new_buildings" v-bind:style="{transform: 'translate('+ (building.pos.x) +'px,'+ (building.pos.y) +'px)'}"
          v-on:touchstart.stop="buildingMoveStart($event, building)" v-on:touchmove.stop="buildingMove($event, building)" v-on:touchend.stop="buildingMoveEnd($event, building)"
          v-on:transitionend="transitionEnd($event)">
            <title>empty djur empty empty</title>
            <polygon points="-20,0 -10,17.320508075688764 10,17.320508075688764 20,0 10,-17.320508075688764 -10,-17.320508075688764"></polygon>
          </g> 
        </g> 
      </g>
    </svg>
    <modalmenu v-bind:modal="modal" v-on:buildAtSite="buildAtSite"></modalmenu>
    
  </div>
</template>

<script>
import Modalmenu from '../components/Modalmenu'

export default {
  name: 'karta',
  props: {},
  components: { Modalmenu },
  data () {
    return {
      new_buildings: [{
        id: 'k2l1-jdi3',
        type: 'fabrik',
        pos: {x:30, y:30},
        fields: []
      },{
        id: 'k2l1-jdi3',
        type: 'by',
        pos: {x:80, y: 30},
        fields: []
      }],
      move: {
        x: 60,
        y: 100
      },
      currentViewBox: [0,0,600,498],
      moveViewBox: [0,0],
      building_pos: [], 
      modal: {}
    }
  },
  computed:{

    viewBox: function(){
      return [
        this.currentViewBox[0] + this.moveViewBox[0], 
        this.currentViewBox[1] + this.moveViewBox[1], 
        this.currentViewBox[2], 
        this.currentViewBox[3]
      ]
    }
    // 1. Nya byggnader ska kunna sättas på byggnads-site. DONE
    // 2. Klicka på byggnad för att få upp meny.
    //      - Surrender building to enemy.
    //      - ...
    // 3. Klicka på fält för att få upp meny.
    //      - Fält okuperad av fiende
    //      - Fält okuperad av spelare
    //      - ...
    // 
  	
  },
  methods: {
    mapMoveStart: function(e){
      this.start = [e.touches[0].clientX, e.touches[0].clientY]
    },
    mapMove: function(e){
      if(this.moving){return}
      this.moveViewBox = [this.start[0] - e.touches[0].clientX, this.start[1] - e.touches[0].clientY]
    },
    mapMoveEnd: function(e){
      this.currentViewBox[0] += this.moveViewBox[0];
      this.currentViewBox[1] += this.moveViewBox[1];
      this.moveViewBox = [0,0]
    },
    buildingMoveStart: function(e, building){
      this.currentBuildingStartPos = building.pos;
    },
    buildingMove: function(e, building){
      e.currentTarget.closest('g').setAttribute('filter', 'url(#shadow)')
      
      var pos = {
        x: e.touches[0].clientX + this.viewBox[0],
        y: e.touches[0].clientY + this.viewBox[1]
      }
      var posToView = {
        x: e.touches[0].clientX,
        y: e.touches[0].clientY
      }
      
      this.closestSite = this.building_pos.find((a)=>{return Math.pow(a.pos.x-pos.x,2)<625 && Math.pow(a.pos.y-pos.y, 2)<625});
      
      if(this.closestSite){
        building.pos = {x: this.closestSite.pos.x-this.viewBox[0], y:this.closestSite.pos.y-this.viewBox[1]}; 
      }else{
        building.pos = posToView;
      }
    },
    buildingMoveEnd: function(e, building){
      var width = screen.availWidth-20;
      var height = 140;
      var zoom = 0.7;
      if(this.closestSite){
        this.modal = {
          isOpen: true,
          title: 'Vill du bygga här?',
          msg: 'Kontrollera att platsen verkligen motsvarar verkligheten.<br> <strong>OBS!</strong> Bekräftan går ej att ångra.',
          type: 'confirm',
          action: 'buildAtSite',
          html: '<svg width="100%" height="140px" viewBox="'+(this.closestSite.pos.x-width*zoom/2)+' '+(this.closestSite.pos.y-height*zoom/2)+' '+width*zoom+' '+height*zoom+'"><use xlink:href="#svg-board"></use></svg>',
          evt: e,
          building: building
        }
      }else{
        building.pos = this.currentBuildingStartPos;
        // building.pos = {x: building.pos.x+0.1, y: building.pos.y+0.1};
        e.target.closest('g').style.transition = '0.5s transform'
        e.currentTarget.closest('g').setAttribute('filter', '');
      }
    },
    // startMove(evt) { //Skala ner denna funktion!!!
    //   evt.preventDefault()
    //   const touch = evt.type === "touchstart";
    //   if (!touch && evt.button !== 0) return;
    //   const events = touch
    //     ? {
    //         move: "touchmove",
    //         stop: "touchend"
    //       }
    //     : {
    //         move: "mousemove",
    //         stop: "mouseup"
    //       };
    //   const elem = evt.currentTarget.closest("svg");
    //   const point = elem.createSVGPoint();
    //   const transform = elem.getScreenCTM().inverse();
    //   const getPos = touch ? getTouchPos : getMousePos;

    //   this.moving = true;
    //   var newPt;

    //   const updateFn = () => {
    //     if (this.moving) requestAnimationFrame(updateFn);

    //     // Map the screen pixels back to svg coords
    //     newPt = point.matrixTransform(transform);
    //     newPt.y -= 17.320508075688764;
    //     // this.move.y -= 20; 
    //     var r = this.building_pos.find((a)=>{return Math.pow(a.x-newPt.x,2)<625 && Math.pow(a.y-newPt.y, 2)<625});
    //     if(r){ 
    //       this.move = r
    //     }else{
    //       this.move = newPt;
    //     }
    //   };
    //   const moveFn = evt => getPos(evt, point);
    //   const stopFn = evt => {
    //     this.moving = false;
    //     elem.removeEventListener(events.move, moveFn);
    //     elem.removeEventListener(events.stop, stopFn);
    //   };

    //   requestAnimationFrame(updateFn);
    //   moveFn(evt);

    //   elem.addEventListener(events.move, moveFn);
    //   elem.addEventListener(events.stop, stopFn);

    //   evt.currentTarget.closest('g').style.pointerEvents = 'none'
    //   evt.currentTarget.closest('g').setAttribute('filter', 'url(#shadow)')
    // },
    // moveEnd(evt){
    //   evt.currentTarget.closest('g').style.pointerEvents = 'all'
    //   evt.currentTarget.closest('g').setAttribute('filter', '')
    //   if(this.building_pos.find((a)=>{return a.x==this.move.x && a.y==this.move.y}) ){
    //     this.modal = {
    //       isOpen: true,
    //       title: 'Vill du bygga här?',
    //       msg: 'Kontrollera att platsen verkligen motsvarar verkligheten.<br> <strong>OBS!</strong> Bekräftan går ej att ångra.',
    //       type: 'confirm',
    //       action: 'buildAtSite',
    //       html: '<svg width="100%" height="140px" viewBox="'+(this.move.x-335*0.8/2)+' '+(this.move.y-140*0.8/2)+' '+335*0.8+' '+140*0.8+'"><use xlink:href="#svg-board"></use></svg>',
    //       evt: evt
    //     }
    //   }else{
    //     evt.target.closest('g').style.transition = '0.5s transform'
    //     evt.target.closest('g').style.transform = 'translate(60px,100px)'
    //   }
    // },
    transitionEnd(e){
      e.target.closest('g').style.transition = ''
      e.currentTarget.closest('g').setAttribute('filter', '');
    },
    buildAtSite: function(modal){
      if(modal.confirmed){
        //Build at site
        modal.evt.target.closest('g').setAttribute('filter', '');
        console.log('Building established')
      }else{
        modal.evt.target.closest('g').style.transition = '0.5s transform'
        modal.building.pos = this.currentBuildingStartPos;
      }
    },
    selectBuilding(pos){
    }
  },
  mounted: function() {

    var buildings = document.getElementsByClassName('building');
    console.log(buildings)
    var roads = document.getElementsByClassName('road');
    var i = buildings.length;
    while(i--){
      // if(buildings.item(i).getAttribute('x')*1 + buildings.item(i).getAttribute('y')*1){
      if(true){
        this.building_pos.push({
          "id": "d9cc-5ed3",
          "pos":{
            x: buildings.item(i).getAttribute('x')*1, 
            y: buildings.item(i).getAttribute('y')*1
          },
          "fields": [
            {
              "refid": "a388-c1f0",
              "type": "tr\u00e4"
            },
            {
              "refid": "2f26",
              "type": "empty"
            }
          ]
        });
        // roads.item(i).style.display = 'none'
      }
    }

    this.boardpieces = [{
      "id": "6a8e-e035-b7f4",
      "fields": [
        {
          "id": "a388-c1f0",
          "type": "tr\u00e4",
          "number": {
            "_pos": {
              "_x": 13,
              "_y": 7,
            },
            "nr": "?"
          }
        }
      ],
      "buildings": [
        {
          "id": "d9cc-5ed3",
          "pos":{x:123, y: 213},
          "fields": [
            {
              "refid": "a388-c1f0",
              "type": "tr\u00e4"
            },
            {
              "refid": "2f26",
              "type": "empty"
            },
            {
              "refid": "66e2",
              "type": "empty"
            },
            {
              "refid": "b79b",
              "type": "empty"
            }
          ]
        }
      ],
      "svg": "<svg width=\"80\" height=\"163.92304845413264\"><g id=\"fields_6a8e-e035-b7f4\"><g id=\"a388-c1f0\" class=\"field tr\u00e4\" type=\"tr\u00e4\"><polygon points=\"20,30 40,30 30,47.32050807568878\"><\/polygon><polygon points=\"10,47.32050807568878 30,47.32050807568878 20,30\"><\/polygon><polygon points=\"10,47.32050807568878 30,47.32050807568878 20,64.64101615137756\"><\/polygon><polygon points=\"10,81.96152422706632 30,81.96152422706632 20,64.64101615137756\"><\/polygon><polygon points=\"10,81.96152422706632 30,81.96152422706632 20,99.2820323027551\"><\/polygon><polygon points=\"30,81.96152422706632 50,81.96152422706632 40,64.64101615137756\"><\/polygon><polygon points=\"40,99.2820323027551 60,99.2820323027551 50,81.96152422706632\"><\/polygon><polygon points=\"40,99.2820323027551 60,99.2820323027551 50,116.60254037844388\"><\/polygon><polygon points=\"50,116.60254037844388 70,116.60254037844388 60,99.2820323027551\"><\/polygon><polygon points=\"50,116.60254037844388 70,116.60254037844388 60,133.92304845413264\"><\/polygon><polygon points=\"40,133.92304845413264 60,133.92304845413264 50,116.60254037844388\"><\/polygon><polygon points=\"30,116.60254037844388 50,116.60254037844388 40,133.92304845413264\"><\/polygon><polygon points=\"30,116.60254037844388 50,116.60254037844388 40,99.2820323027551\"><\/polygon><polygon points=\"20,99.2820323027551 40,99.2820323027551 30,116.60254037844388\"><\/polygon><polygon points=\"20,99.2820323027551 40,99.2820323027551 30,81.96152422706632\"><\/polygon><polygon points=\"30,81.96152422706632 50,81.96152422706632 40,99.2820323027551\"><\/polygon><polygon points=\"20,64.64101615137756 40,64.64101615137756 30,81.96152422706632\"><\/polygon><polygon points=\"20,64.64101615137756 40,64.64101615137756 30,47.32050807568878\"><\/polygon><g class=\"number\"><circle cx=\"30\" cy=\"90.62177826491072\" r=\"8.1\"><\/circle><text id=\"nr-a388-c1f0\" transform=\"matrix(1 0 0 1 30 95.62177826491072)\">?<\/text><\/g><\/g><\/g><g id=\"roads_6a8e-e035-b7f4\"><g class=\"road\"><circle cx=\"30\" cy=\"47.32050807568878\" r=\"2\"><\/circle> <circle cx=\"70\" cy=\"116.60254037844388\" r=\"2\"><\/circle><line x1=\"30\" y1=\"47.32050807568878\" x2=\"70\" y2=\"116.60254037844388\"><\/line><\/g><\/g><g id=\"buildings_6a8e-e035-b7f4\"><g class=\"building\" id=\"d9cc-5ed3\"><title>tr\u00e4 empty empty empty<\/title><polygon points=\"30,81.96152422706632 40,99.2820323027551 60,99.2820323027551 70,81.96152422706632 70,81.96152422706632 60,64.64101615137756 40,64.64101615137756\"><\/polygon><\/g><\/g><\/svg>"
    }]
  }
}


function getMousePos(mouseEvent, point) {
  point.x = mouseEvent.clientX;
  point.y = mouseEvent.clientY;
}

function getTouchPos(touchEvent, point) {
  point.x = touchEvent.touches[0].clientX;
  point.y = touchEvent.touches[0].clientY;
}


</script>

<!-- Add "scoped" attribute to limit CSS to this component only -->
<style scoped>




.triangle {
      stroke: rgba(0, 0, 0, 0.1);
    stroke-width: 1;
    fill: rgba(0, 0, 0, 0);
  }
    .triangle:hover {
      fill: lightgray;
      opacity: 0.7;
      transition: 0.1s;
    }
    .dot {
      fill: lightgray;
      stroke: rgba(0, 0, 0, 0);
    stroke-width: 20;
    }
    .dot:hover {
      r: 5;
      stroke-width: 15; 
      fill: darkgray;
      transition: 0.1s;
    }
  .field circle {
    fill: #606060;
  }
  .field text {
    text-anchor: middle;
    fill: #FFFFFF;
    font-family: 'Helvetica';
    font-size:13px;
  }
  .road {
    fill: #606060; 
    stroke: #606060;
    stroke-width: 4;
    /*stroke-opacity: 0.4;*/
  }
  .road:hover {
    /*stroke-opacity: 0.6;*/
  }
  .building {
      fill: black;
      fill-opacity: 0.1;
      pointer-events: all;
  }
  .building:hover {
      fill-opacity: 0.6;
  }
  .new_building {
      fill: white;
      fill-opacity: 1;
      pointer-events: all;
  }


  .field.trä polygon{ 
    fill: #1abc9c;
  }
  .field.sten polygon{ 
    fill: lightgray;
  }
  .field.olja polygon{ 
    fill: #B697D8;
  }
  .field.säd polygon{ 
    fill: #f1c40f;
  }
  .field.djur polygon{ 
    fill: #75B96B;
  }
</style>
